cmake_minimum_required(VERSION 2.5)

PROJECT(otpam)

SET(${PROJECT_NAME}_MAJOR_VERSION 0)
SET(${PROJECT_NAME}_MINOR_VERSION 1)

SET(${PROJECT_NAME}_DEPENDS "gmp openssl")

#LINK_LIBRARIES(gmp openssl)

ADD_DEFINITIONS("-Wall -ggdb")

INCLUDE(CheckLibraryExists)
CHECK_LIBRARY_EXISTS(gmp mpz_init "" HAVE_GMP)
CHECK_LIBRARY_EXISTS(ssl SHA256 "" HAVE_OPENSSL)

ADD_EXECUTABLE( pppv3 pppv3.c crypto.c num.c)
TARGET_LINK_LIBRARIES(pppv3 gmp ssl)
